# helper to get around all things that GNU does wrong with packaging
GNU_sucks() {
    # GNU programs have the most insane dependency tracking I have ever seen.
    # To check for dependencies, they often simply try to run the program
    # and if it has a -gt 0 exit code, the dependency must not be in $PATH.
    #
    # This breaks all kinds of things, namely if we are running under `set -e`
    # As a workaround, just manually track depedencies -- clear the file.
    [ -f build-aux/missing ] && :> build-aux/missing

    # Some GNU makefiles test certain program flags to see if they
    # are GNU coreutils programs. Some of our minimal programs fail this,
    # causing the makefile to abort unless $ENV variables are set. Absurd.
    # Should a makefile not work correctly with our coreutils, 
    # it will be patched on a per-port basis.
    GREP="$root"/bin/grep   ; SED="$root"/bin/sed   ; AWK="$root"/bin/awk
    MKDIR="$root"/bin/mkdir ; ECHO="$root"/bin/echo ; FIND="$root"/bin/find 
    MV="$root"/bin/mv       ; RM="$root"/bin/rm     ; TAR="$root"/bin/tar
    SEQ="$root"/bin/seq     ; SORT="$root"/bin/sort ; XARGS="$root"/bin/xargs
    export GREP SED AWK MKDIR ECHO FIND MV RM TAR SEQ SORT XARGS
}
# vi:syntax=sh
# shellcheck shell=sh
