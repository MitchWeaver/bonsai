# vi:syntax=sh
# shellcheck shell=sh

# Helper to get around all things that suck.
sucks() {
    # GNU programs have the most insane dependency tracking I have ever seen.
    # To check for dependencies, they often simply try to run the program
    # and if it has a -gt 0 exit code, the dependency must not be in $PATH.
    #
    # This breaks all kinds of things, namely if we are running under `set -e`
    # As a workaround, just manually track depedencies -- clear the files.
    [ -f build-aux/missing ] && :> build-aux/missing
    [ -f missing ] && :> missing
}

# remove junk files from given package
# params: $name
clear_junk() {
    cd "$pkgs/$1" || exit 1
    rm -rf share/info share/doc sucks /sucks 2>/dev/null
}
