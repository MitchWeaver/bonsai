loadconfig() {
    if [ "$config" ] ; then
        borerc="$config"
    elif [ -f /src/$PKG_MGR_NAME.rc ] ; then
        borerc="/src/$PKG_MGR_NAME.rc"
    else 
        borerc="${HOME}/.local/$PKG_MGR_NAME/src/$PKG_MGR_NAME.rc"
        [ ! -f "$borerc" ] && create_skeleton_config
    fi
    . "$borerc" || die "loadconfig(): could not source config"

    if [ "$_root" ] ; then
        root="$_root"
    fi
    root=${root:=${HOME}/.local/bore}
    borehome="$root"/src
    boredb="$borehome"/bore.db
    pkgs="$borehome"/pkgs
    ports="$borehome"/ports
    sources="$borehome"/sources
    work="$borehome"/work

    [ "$_gcc" ] && gcc="$_gcc"

    update_db
    sanity_check
    unset _root _gcc _config
}

# creates a skeleton config
# params: $path
create_skeleton_config() {
    if [ "$1" ] ; then
        if [ ! -e "$1" ] ; then
            path="$1"
        else
            die "create_skeleton_config(): Refusing to overwrite $1"
        fi
    else
        path="${HOME}/.local/$PKG_MGR_NAME/src"
        mkdir -p "$path"
        echo "copying default config to ~/.local/$PKG_MGR_NAME/$PKG_MGR_NAME.rc"
    fi
cat > "$path"/$PKG_MGR_NAME.rc << "EOF"
# bore root
root=${HOME}/.local/bore

# compiling
jobs=$(grep -c 'cpu cores' /proc/cpuinfo)
tcc="$root/bin/tcc"
gcc="$root/bin/gcc"

# flags
makeflags=''
cflags="-I. -I$root/include -static --static -s -Os -pipe -Wl,--gc-sections -march=native -w"
ldflags="-L. -L$root/lib -static --static -s -fdata-sections -ffunction-sections"
cppflags='-static --static'
cxxflags='-static --static'
pkgcfgflags='pkg-config --static'

# downloads
curl_opts='-# --ssl'
git_opts='-q --progress --depth 1'
keep_tarballs=true

# options
mans=true   # install man pages?
docs=false  # install extra documentation?
nls=false   # provide native-language-support?
quiet=false # configure/make silently without warnings?
debug=false # compile in debugging tools/information?
prompt='→'  # msg prompt

# package/version delimiter
# can be any character or series of characters, however:
# * must be sane (no $, `, / etc)
# * cannot be '-' due to the character often being in pkg names
# * commonly used: #@?!*†¤§≡
delim='#'
EOF
}
# vi:syntax=sh
