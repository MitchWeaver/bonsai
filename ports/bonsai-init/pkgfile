info='the bonsai init system'
metapkg=true
nolink=true
deps='bonsai-core sinit smdev kmod e2fsprogs sdhcp inetutils'
build() {
    msg "installing init with mode 0755..."
    install -m 0755 init "$root"/init

    for file in dev fsck init mnt net ; do
        msg "installing etc/rc.$file with mode 755..."
        install -m 0755 rc.$file "$root"/etc/rc.$file
    done
    unset file

    # don't overwrite user's rc.local or conf if existing
    if [ ! -f "$root"/etc/rc.conf ] ; then
        msg "installing etc/rc.conf with mode 644..."
        install -m 0644 rc.conf "$root"/etc/rc.conf
    fi
    if [ ! -f "$root"/etc/rc.local ] ; then
        msg "installing etc/rc.local with mode 755..."
        install -m 0755 rc.local "$root"/etc/rc.local
    fi
}
